<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.thymeleaf.org ">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet"/>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet"/>
    <!-- MDB -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/7.3.2/mdb.min.css" rel="stylesheet"/>
    <!-- Intro settings -->
    <style>
        .navbar {
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000; /* Đảm bảo menu luôn nằm trên các thành phần khác */
            background-color: #ffefdb !important;
        }
        .nav-item.dropdown:hover .dropdown-menu {
            display: block;
            margin-top: 0; /* Đảm bảo không có khoảng cách giữa menu và dropdown */
        }
        .project {
            transition: opacity 0.5s ease, transform 0.5s ease;
        }

        .card {
            margin-bottom: 30px; /* Khoảng cách giữa các card */
            border: none; /* Bỏ viền card */
            border-radius: 10px; /* Bo góc card */
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1); /* Đổ bóng cho card */
            transition: transform 0.2s; /* Hiệu ứng khi hover */
        }

        .card:hover {
            transform: translateY(-5px); /* Hiệu ứng nhấc card lên khi hover */
        }

        .card-title {
            font-size: 1.5rem; /* Kích thước tiêu đề lớn hơn */
            font-weight: bold; /* Đậm tiêu đề */
        }

        .card-text {
            margin-bottom: 15px; /* Khoảng cách dưới của text */
        }

        .btn {
            background-color: #007bff; /* Màu nền của nút */
            color: white; /* Màu chữ trên nút */
            border-radius: 5px; /* Bo góc nút */
            padding: 10px 20px; /* Padding cho nút */
            transition: background-color 0.3s; /* Hiệu ứng chuyển màu */
        }

        .btn:hover {
            background-color: #0056b3; /* Màu nền khi hover */
        }
        .row {
            display: flex;
            flex-wrap: wrap; /* Cho phép các card xuống dòng */
        }

        .col-md-4 {
            display: flex; /* Thiết lập flexbox cho cột */
            justify-content: center; /* Căn giữa nội dung */
        }

        .card {
            flex: 1; /* Chiếm đều không gian */
            display: flex;
            flex-direction: column; /* Để các phần tử bên trong sắp xếp theo chiều dọc */
            justify-content: space-between; /* Tạo khoảng cách giữa các phần tử */
            margin-bottom: 30px; /* Khoảng cách giữa các card */
            border: none; /* Bỏ viền card */
            border-radius: 10px; /* Bo góc card */
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1); /* Đổ bóng cho card */
            transition: transform 0.2s; /* Hiệu ứng khi hover */
        }

        .card-body {
            flex-grow: 1; /* Để card-body chiếm hết không gian còn lại */
        }
        .nav-item.dropdown:hover .dropdown-menu {
            display: block;
            opacity: 1;
        }

    </style>
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-body-tertiary"
     style="box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); padding: 10px;">
    <!-- Container wrapper -->
    <div class="container-fluid">
        <!-- Toggle button -->
        <button data-mdb-collapse-init class="navbar-toggler" type="button"
                data-mdb-target="#navbarCenteredExample" aria-controls="navbarCenteredExample"
                aria-expanded="false" aria-label="Toggle navigation"
                style="border: none; outline: none; font-size: 24px;">
            <i class="fas fa-bars"></i>
        </button>

        <!-- Collapsible wrapper -->
        <div class="collapse navbar-collapse justify-content-center" id="navbarCenteredExample"
             style="transition: opacity 0.5s ease, visibility 0.5s; opacity: 1;">
            <!-- Left links -->
            <ul class="navbar-nav mb-2 mb-lg-0" style="align-items: center;">
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="trang-chu"
                       style="padding: 10px 15px; color: #000; font-weight: 500;
                              border-radius: 5px; transition: background-color 0.3s, color 0.3s;">
                        Trang chủ
                    </a>
                </li>

                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="gioi-thieu"
                       style="padding: 10px 15px; color: #000; font-weight: 500;
                              border-radius: 5px; transition: background-color 0.3s, color 0.3s;">
                        Giới thiệu
                    </a>
                </li>

                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="chuong-trinh"
                       style="padding: 10px 15px; color: #000; font-weight: 500;
                              border-radius: 5px; transition: background-color 0.3s, color 0.3s;">
                        Hoàn cảnh quyên góp
                    </a>
                </li>

                <li class="nav-item dropdown" style="position: relative;">
                    <a class="nav-link active dropdown-toggle" href="chien-dich-gay-quy"
                       id="navbarDropdown_2" role="button" aria-expanded="false"
                       style="padding: 10px 15px; color: #000; font-weight: 500; border-radius: 5px; transition: background-color 0.3s, color 0.3s;">
                        Chiến dịch gây quỹ
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdown"
                        style="position: absolute; top: 100%; left: 0; display: none; background-color: #f1f1f1; border-radius: 5px; min-width: 200px; transition: opacity 0.3s;">
                        <li><a class="dropdown-item" href="/benh-hiem-ngheo" style="padding: 10px 15px; color: #000;">Bệnh hiểm nghèo</a></li>
                        <li><a class="dropdown-item" href="/chap-canh-sinh-vien" style="padding: 10px 15px; color: #000;">Chấp cánh sinh viên đến trường</a></li>
                        <li><a class="dropdown-item" href="/bua-an-sinh-vien" style="padding: 10px 15px; color: #000;">Bữa ăn sinh viên</a></li>
                        <li><a class="dropdown-item" href="/sinh-vien-gioi-co-hoan-canh" style="padding: 10px 15px; color: #000;">Sinh viên giỏi có hoàn cảnh</a></li>
                    </ul>
                </li>

                <li class="nav-item dropdown"
                    style="position: relative;">
                    <a class="nav-link active dropdown-toggle" href="huong-dan-dong-gop" id="navbarDropdown_3"
                       role="button" aria-expanded="false"
                       style="padding: 10px 15px; color: #000; font-weight: 500;
                              border-radius: 5px; transition: background-color 0.3s, color 0.3s;">
                        Đóng góp
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdown"
                        style="position: absolute; top: 100%; left: 0; display: none;
                               background-color: #f1f1f1; border-radius: 5px; min-width: 200px;
                               transition: opacity 0.3s;">
                        <li><a class="dropdown-item" href="cap-nhat-dong-gop"
                               style="padding: 10px 15px; color: #000;">Cập nhật đóng góp</a></li>
                        <li><a class="dropdown-item" href="huong-dan-dong-gop"
                               style="padding: 10px 15px; color: #000;">Hướng dẫn đóng góp</a></li>
                    </ul>
                </li>

                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="tin-tuc-cong-dong"
                       style="padding: 10px 15px; color: #000; font-weight: 500;
                              border-radius: 5px; transition: background-color 0.3s, color 0.3s;">
                        Tin tức cộng đồng
                    </a>
                </li>

                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="lien-he"
                       style="padding: 10px 15px; color: #000; font-weight: 500;
                              border-radius: 5px; transition: background-color 0.3s, color 0.3s;">
                        Liên hệ
                    </a>
                </li>
            </ul>
        </div>
    </div>
</nav>
<!--<-&#45;&#45; Content -&ndash;&gt;-->
<section style="background-color: #eee;">
    <div class="container py-5" style="margin-top: 100px; max-width: 1200px;">
        <h4 class="text-center mb-5" style="color: #8b2323; font-weight: bold;">
            <strong>Tất cả các dự án</strong>
        </h4>
        <div class="row">
            <div class="col-lg-4 col-md-6 mb-4" th:each="charitycontent : ${charitycontent}">
                <div class="card project shadow h-100"
                     style="display: flex; flex-direction: column; justify-content: space-between; border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: transform 0.3s;">
                    <!-- Image section -->
                    <div style="height: 250px; overflow: hidden;">
                        <img th:src="${charitycontent.img}" src="" alt="Hình ảnh dự án"
                             style="width: 100%; height: 100%; object-fit: cover;">
                    </div>

                    <!-- Card body section -->
                    <div class="card-body d-flex flex-column" style="padding: 15px;">
                        <h5 class="card-title text-center mb-3" th:text="${charitycontent.title}"
                            style="font-size: 1.1em; font-weight: bold; color: #333;">
                        </h5>
                        <p class="card-text text-center" th:text="${charitycontent.startDate + ' - ' + charitycontent.endDate}"
                           style="font-size: 1em; font-weight: bold; color: rosybrown; text-align: center;">
                        </p>

                        <div th:each="charitycontent : ${charitycontent}">
                            <div style="text-align: center; margin-top: 20px;">
                                <p class="card-text countdown"
                                   style="font-size: 1em; font-weight: bold; text-align: center; color: #1e90ff;
                  background-color: #e7f5ff; border: 2px solid #1e90ff; padding: 10px 20px;
                  border-radius: 5px; display: inline-block; width: fit-content; margin-bottom: 15px"
                                   th:if="${charitycontent.isActive()}"
                                   th:attr="data-enddate=${charitycontent.formattedEndDate}"
                                   id="countdown-${charitycontent.id}">
                                    Đang tính toán thời gian còn lại...
                                </p>

                                <p class="card-text countdown-expired"
                                   style="font-size: 1em; font-weight: bold; text-align: center; color: #dc3545;
                  background-color: #f8d7da; border: 2px solid #dc3545; padding: 10px 20px;
                  border-radius: 5px; display: inline-block; width: fit-content; margin-bottom: 15px"
                                   th:unless="${charitycontent.isActive()}"
                                   id="expired-${charitycontent.id}">
                                    Đã hết hạn
                                </p>
                            </div>
                        </div>


                        <p class="card-text" th:text="'Mã dự án: ' + ${charitycontent.code}"
                           style="font-size: 0.9em; font-weight: bold; text-align: center; color: #8b2323;">
                        </p>

                        <p class="card-text" th:text="'Số tiền đã đóng góp: ' + ${charitycontent.goalAmount}"
                           style="font-size: 0.9em; font-weight: bold; text-align: center; color: cadetblue;">
                        </p>

                        <p class="card-text" th:text="'Cần huy động: ' + ${charitycontent.amountRaised}"
                           style="font-size: 0.9em; font-weight: bold; text-align: center; color: cadetblue;">
                        </p>

<!--                 <-- Progress bar container -->
                        <div style="width: 100%; background-color: #e0e0e0; border-radius: 5px; margin: 10px 0;">
                            <div th:style="'height: 20px; background-color: #8b2323; border-radius: 5px; width: ' + ${charitycontent.progressPercentage} + '%;'">
                            </div>
                        </div>

                        <!-- An alternative way to display progress, directly using the amountRaised and goalAmount -->
                        <div th:attr="style='width:' + ${#numbers.formatDecimal((charitycontent.amountRaised / charitycontent.goalAmount) * 100, 0, 0)} + '%;'">
                        </div>



                        <!-- Buttons -->
                        <a th:href="@{'/chuong-trinh/' + ${charitycontent.id}}" class="btn btn-primary"
                           style="background-color: #0056b3; color: white; margin-top: auto; margin-bottom: 10px; border-radius: 5px; border: none;">
                            Xem thêm
                        </a>
                        <a href="huong-dan-dong-gop" class="btn btn-primary"
                           style="background-color: #8b2323; border-color: #8b2323; color: white; border-radius: 5px; border: none;">
                            Đóng Góp Ngay
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>





<!-- Footer -->
<footer class="text-center text-lg-start bg-body-tertiary text-muted" style="margin-top:100px">
    <!-- Section: Social media -->
    <section class="d-flex justify-content-center justify-content-lg-between p-4 border-bottom">
        <!-- Left -->
        <div class="me-5 d-none d-lg-block">
            <span>Get connected with us on social networks:</span>
        </div>
        <!-- Left -->

        <!-- Right -->
        <div>
            <a href="" class="me-4 text-reset">
                <i class="fab fa-facebook-f"></i>
            </a>
            <a href="" class="me-4 text-reset">
                <i class="fab fa-twitter"></i>
            </a>
            <a href="" class="me-4 text-reset">
                <i class="fab fa-google"></i>
            </a>
            <a href="" class="me-4 text-reset">
                <i class="fab fa-instagram"></i>
            </a>
            <a href="" class="me-4 text-reset">
                <i class="fab fa-linkedin"></i>
            </a>
            <a href="" class="me-4 text-reset">
                <i class="fab fa-github"></i>
            </a>
        </div>
        <!-- Right -->
    </section>
    <!-- Section: Social media -->

    <!-- Section: Links  -->
    <section class="">
        <div class="container text-center text-md-start mt-5">
            <!-- Grid row -->
            <div class="row mt-3">
                <!-- Grid column -->
                <div class="col-md-3 col-lg-4 col-xl-3 mx-auto mb-4">
                    <!-- Content -->
                    <h6 class="text-uppercase fw-bold mb-4">
                        <i class="fas fa-gem me-3"></i>Về chúng tôi</h6>
                    <p>
                        Chúng tôi tin rằng mọi người đều xứng đáng có cơ hội để phát triển và hưởng thụ cuộc sống tốt đẹp hơn.
                        Chúng tôi không chỉ mong muốn giúp đỡ mà còn tạo ra sự kết nối và cảm hứng trong cộng đồng.
                    </p>
                </div>
                <!-- Grid column -->

                <!-- Grid column -->
                <div class="col-md-2 col-lg-2 col-xl-2 mx-auto mb-4">
                    <!-- Links -->
                    <h6 class="text-uppercase fw-bold mb-4">
                        Hướng dẫn
                    </h6>
                    <p>
                        <a href="#!" class="text-reset">Hướng dẫn đóng góp</a>
                    </p>
                    <p>
                        <a href="#!" class="text-reset">Giới thiệu</a>
                    </p>
                    <p>
                        <a href="#!" class="text-reset">Tổ chức</a>
                    </p>
                    <p>
                        <a href="#!" class="text-reset">Lịch sử</a>
                    </p>
                </div>
                <!-- Grid column -->

                <!-- Grid column -->
                <div class="col-md-3 col-lg-2 col-xl-2 mx-auto mb-4">
                    <!-- Links -->
                    <h6 class="text-uppercase fw-bold mb-4">
                        Chương trình
                    </h6>
                    <p>
                        <a href="#!" class="text-reset">Cứu trợ khẩn cấp</a>
                    </p>
                    <p>
                        <a href="#!" class="text-reset">Trợ giúp y tế</a>
                    </p>
                    <p>
                        <a href="#!" class="text-reset">Bữa ăn giá thấp</a>
                    </p>
                    <p>
                        <a href="#!" class="text-reset">Phương tiện mưu sinh</a>
                    </p>
                </div>
                <!-- Grid column -->

                <!-- Grid column -->
                <div class="col-md-3 col-lg-3 col-xl-3 mx-auto mb-md-0 mb-4">
                    <!-- Links -->
                    <h6 class="text-uppercase fw-bold mb-4">Liên hệ</h6>
                    <p><i class="fas fa-home me-3"></i> An Dương Vương, Quận 5, TP.Hồ Chí Minh</p>
                    <p>
                        <i class="fas fa-envelope me-3"></i>
                        quytuthienmattroi@gmail.com
                    </p>
                    <p><i class="fas fa-phone me-3"></i> + 01 234 567 88</p>
                    <p><i class="fas fa-print me-3"></i> + 01 234 567 89</p>
                </div>
                <!-- Grid column -->
            </div>
            <!-- Grid row -->
        </div>
    </section>
    <!-- Section: Links  -->

    <!-- Copyright -->
    <div class="text-center p-4" style="background-color: rgba(0, 0, 0, 0.05);">

        <a class="text-reset fw-bold">Quỹ từ thiện trường đại học Sài Gòn</a>
    </div>
    <!-- Copyright -->
</footer>
<!-- Footer -->

</body>
<!-- MDB -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/7.3.2/mdb.umd.min.js"></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const countdownElements = document.querySelectorAll('.countdown');

        countdownElements.forEach(function (element) {
            const endDateStr = element.dataset.enddate;

            // Manually parse the date from 'dd/MM/yyyy' to 'yyyy-MM-dd'
            const [day, month, year] = endDateStr.split('/');
            const endDate = new Date(`${year}-${month}-${day}`); // Reformat to 'yyyy-MM-dd'

            if (isNaN(endDate)) {
                console.error("Invalid date format for countdown:", endDateStr);
                element.textContent = "Lỗi định dạng ngày";
                return;
            }

            function updateCountdown() {
                const now = new Date();
                const timeDifference = endDate - now;

                if (timeDifference <= 0) {
                    // Set the text to "Đã hết hạn" if the campaign is expired
                    element.textContent = "Đã hết hạn";
                    return;
                }

                const days = Math.floor(timeDifference / (1000 * 60 * 60 * 24));
                const hours = Math.floor((timeDifference % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((timeDifference % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((timeDifference % (1000 * 60)) / 1000);

                element.textContent = `${days} ngày ${hours} giờ ${minutes} phút ${seconds} giây`;
            }

            // Update immediately, and then update every second
            updateCountdown();
            setInterval(updateCountdown, 1000);
        });
    });


</script>
<script>
    // Hiệu ứng mở menu thả xuống khi hover
    document.querySelectorAll('.nav-item.dropdown').forEach(function (dropdown) {
        dropdown.addEventListener('mouseenter', function () {
            const menu = this.querySelector('.dropdown-menu');
            menu.style.display = 'block';
            menu.style.opacity = '1';
        });

        dropdown.addEventListener('mouseleave', function () {
            const menu = this.querySelector('.dropdown-menu');
            menu.style.opacity = '0';
            setTimeout(() => (menu.style.display = 'none'), 300);
        });
    });

    // Thêm hiệu ứng hover cho các liên kết
    document.querySelectorAll('.nav-link').forEach(function (link) {
        link.addEventListener('mouseenter', function () {
            this.style.backgroundColor = '#007bff'; // Màu nền hover
            this.style.color = '#fff'; // Màu chữ khi hover
        });
        link.addEventListener('mouseleave', function () {
            this.style.backgroundColor = ''; // Xóa màu nền hover
            this.style.color = '#000'; // Màu chữ ban đầu
        });
    });
</script>
<script src="https://www.gstatic.com/dialogflow-console/fast/messenger/bootstrap.js?v=1"></script>
<df-messenger
        intent="WELCOME"
        chat-title="Charity-SGU-Chatbot"
        agent-id="8428db8e-f5ca-430c-8e2d-93117688fb78"
        language-code="en"
></df-messenger>
</html>